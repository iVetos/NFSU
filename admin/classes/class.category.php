<?php/** * Класс для работы с разделами *  * @package UPcms\Catalog * @author UP Studio <info@up-studio.net> * @date 23.09.2014 */class Category {        /**     * Все разделы     *      * @param integer $id - ИД раздела     * @return array     */    public static function show($id) {        $sql = "SELECT * FROM `categories` WHERE `id_parent` = $id ORDER BY `sort`";        return Db::doArray($sql);    }        /**     * Добавление     *      * @param integer $id - ИД родителя     * @param string $name - название     * @param string $text - описание     * @param string $img - имя изображения     * @param string $title - метатег Title     * @param string $description - метатег Description     * @param string $keywords - метатег Keywords      * @return boolean     */    public static function add($id, $name, $text, $img, $title, $description, $keywords) {             $sql = "INSERT INTO `categories`                     SET `id_parent` = $id,                       `name` = '$name',                       `text` = '$text',                       `img` = '$img',                       `title` = '$title',                       `description` = '$description',                       `keywords` = '$keywords',                       `actual` = 1";        return Db::exec($sql);    }        /**     * Редактирование     *      * @param integer $id - ИД раздела     * @param string $name - название     * @param string $text - описание     * @param string $title - метатег Title     * @param string $description - метатег Description     * @param string $keywords - метатег Keywords      * @return boolean     */    public static function edit($id, $name, $text, $img, $title, $description, $keywords) {        $sql = "UPDATE `categories`                     SET `name` = '$name',                        `text` = '$text',                        `img` = '$img',                        `title` = '$title',                        `description` = '$description',                        `keywords` = '$keywords'                    WHERE `id` = $id";        return Db::exec($sql);    }        /**     * Удаление     *      * @param $id - ИД раздела     * @return boolean     */    public static function del($id) {                // удаляем раздел        $sql = "DELETE FROM `categories` WHERE `id` = $id";        return Db::exec($sql);    }        /**     * Один раздел     *      * @param $id - ИД раздела     * @return array     */    public static function returnCategory($id) {        $sql = "SELECT * FROM `categories` WHERE `id` = $id";          $category = (Db::numRows($sql) > 0) ? Db::doOne($sql) : array();        return $category;    }        /**     * Возращает имя обложки     *      * @param integer $id - ИД раздела     * @return string     */    public static function returnCover($id)    {        $sql = "SELECT `img` FROM `categories` WHERE `id` = {$id}";        if (Db::numRows($sql) < 1)        {            $name = '';        }        else        {            $result = Db::doOne($sql);            $name = $result['img'];        }        return $name;    }}?>